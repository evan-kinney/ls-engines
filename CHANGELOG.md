# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/)
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

Generated by [`auto-changelog`](https://github.com/CookPete/auto-changelog).

## [v0.5.0](https://github.com/ljharb/ls-engines/compare/v0.4.2...v0.5.0) - 2021-05-16

### Commits

- [Tests] update lockfiles to version 2 [`bcfb818`](https://github.com/ljharb/ls-engines/commit/bcfb818abb9ca0777e5afa30028e84c085ff3cb3)
- [New] add `--peer`, and ignore peerDeps by default [`45af3c7`](https://github.com/ljharb/ls-engines/commit/45af3c73132221489ba2a7d590ccc9dd225f0cd1)
- [Tests] add missing lockfile [`d20d3e7`](https://github.com/ljharb/ls-engines/commit/d20d3e7ce5b399a099aaf4a7550a68c83dfea058)
- [Tests] add `peer-subset-root` fixture [`3ccd227`](https://github.com/ljharb/ls-engines/commit/3ccd2271428b224e50f77fe20225e99afdd2ab93)
- [Fix] properly denote root/graph subset/superset scenarios [`efaf119`](https://github.com/ljharb/ls-engines/commit/efaf119f4df345a56851809bc73bbcd03136bda7)
- [Refactor] tweak how dev/prod flags are implemented [`05510da`](https://github.com/ljharb/ls-engines/commit/05510daab28a55f4103ee86b32529ddcd0b0b53f)
- [Breaking] update `yargs`; drop non-ESM node; require npm 7 [`872f413`](https://github.com/ljharb/ls-engines/commit/872f41356344a897ba94806e290f8333b17aa650)
- [Deps] update `@npmcli/arborist`, `table` [`116e5b9`](https://github.com/ljharb/ls-engines/commit/116e5b93bc5364ef178ab260491d69bc1a93c394)
- [Deps] update `@npmcli/arborist`, `table` [`6a868e1`](https://github.com/ljharb/ls-engines/commit/6a868e1a6091d45897c5976fd220ad96e665caea)
- [Dev Deps] update `eslint`, `@ljharb/eslint-config` [`de9b2fc`](https://github.com/ljharb/ls-engines/commit/de9b2fcf9e906445057d2e132a16511ae93329dc)

## [v0.4.2](https://github.com/ljharb/ls-engines/compare/v0.4.1...v0.4.2) - 2021-05-01

### Commits

- [Tests] update fixtures with node 16 release [`7ba62a9`](https://github.com/ljharb/ls-engines/commit/7ba62a95d3c91d46650436ad63058a76a61cd186)
- [actions] use `node/install` instead of `node/run`; use `codecov` action [`3eb8675`](https://github.com/ljharb/ls-engines/commit/3eb8675625ba4d6d32b24c159949d11aa17f7f86)
- [Fix] save changes when a new node major comes out [`519aec9`](https://github.com/ljharb/ls-engines/commit/519aec98b9feef0a36480b592d65057d6169cc91)
- [Deps] update `@npmcli/arborist`, `chalk`, `pacote`, `semver`, `table` [`9c3d896`](https://github.com/ljharb/ls-engines/commit/9c3d896ee7c1b28c65be29e88619e24d5df4dac6)
- [Tests] ensure lockfile output is agnostic to npm &lt; 7 and &gt;= 7 [`256f258`](https://github.com/ljharb/ls-engines/commit/256f258755aa750bad684de82efbb25eca08c5d9)
- [Dev Deps] update `aud`, `eslint`, `tape` [`41ee72e`](https://github.com/ljharb/ls-engines/commit/41ee72ef9b6eacc7911ae8fda5e9d313ce24923e)
- [meta] add `safe-publish-latest`; use `prepublishOnly` script for npm 7+ [`bae44d4`](https://github.com/ljharb/ls-engines/commit/bae44d45d1564601ebbcbdefd5e2bd600e7dd31f)

## [v0.4.1](https://github.com/ljharb/ls-engines/compare/v0.4.0...v0.4.1) - 2021-02-19

### Commits

- [Tests] update `salita` to avoid breaking changes [`5001208`](https://github.com/ljharb/ls-engines/commit/5001208a97e10845fcdbfc692883e9d77a17efd3)
- [Tests] migrate tests to Github Actions [`a72676e`](https://github.com/ljharb/ls-engines/commit/a72676e3b53dfc6d106a306459eb85b91e436ccf)
- [Tests] run `nyc` on all tests; use `tape` runner [`0f308a6`](https://github.com/ljharb/ls-engines/commit/0f308a6be49684323cf8b97266c8435106ced59d)
- [Deps] update `@npmcli/arborist`, `pacote`, `promise.allsettled`, `semver`, `table`, `yargs` [`d2285cf`](https://github.com/ljharb/ls-engines/commit/d2285cfb907b8b21c5a732d81e5420000ffc0797)
- [Dev Deps] update `eslint`, `@ljharb/eslint-config`, `aud`, `tape` [`0432338`](https://github.com/ljharb/ls-engines/commit/04323380673cbd293bdbc43b9279205c776df893)
- [Tests] filter out node experimental warnings [`6e18a2a`](https://github.com/ljharb/ls-engines/commit/6e18a2aaf6b323c23734a945b1288c9e25840b02)
- [Tests] add `GREP` filter [`2971ddb`](https://github.com/ljharb/ls-engines/commit/2971ddb3d56425a7ac7f3560522f10967e5df6d8)
- [readme] fix repo URLs; remove travis badge [`bb6a0ba`](https://github.com/ljharb/ls-engines/commit/bb6a0ba6c938c31aafe672bac2e768bfdb98d19b)
- [Deps] update `@npmcli/arborist` [`eff06be`](https://github.com/ljharb/ls-engines/commit/eff06be1bb444cea891cce278e167d78a1001cb0)
- [Deps] update `@npmcli/arborist` [`0e5c2ad`](https://github.com/ljharb/ls-engines/commit/0e5c2adbd24d28ac06b4363325748d398593bf1b)
- [actions] update "Allow Edits" workflow [`19ffc20`](https://github.com/ljharb/ls-engines/commit/19ffc20054fe1b9d3535287f068bbdaa61f795fd)
- [meta] do not publish github action workflow files [`86b5902`](https://github.com/ljharb/ls-engines/commit/86b5902787b02a71b6d272de64cc128af6631f25)

## [v0.4.0](https://github.com/ljharb/ls-engines/compare/v0.3.5...v0.4.0) - 2020-10-23

### Commits

- [Tests] add node 15 to snapshots [`af11fed`](https://github.com/ljharb/ls-engines/commit/af11feddc57a14f8b718df65bfcc59a71476c948)
- [actions] add "Allow Edits" workflow [`36fa631`](https://github.com/ljharb/ls-engines/commit/36fa631f83ac7017c66f070dad0d267d1dea854a)
- [meta] create FUNDING.yml [`b7fca88`](https://github.com/ljharb/ls-engines/commit/b7fca8825d4fd2ec81bd074e0ac0cba160f27852)
- [Breaking] [Deps] update `@npmcli/arborist`, `yargs` [`bd3fd61`](https://github.com/ljharb/ls-engines/commit/bd3fd617ab65d8964bd3c7d2f250ca8049873dec)
- [Dev Deps] update `eslint` [`8187d7d`](https://github.com/ljharb/ls-engines/commit/8187d7d0cd04bfafcedb1d8f8caa96017b20f58c)
- [actions] switch Automatic Rebase workflow to `pull_request_target` event [`7c55428`](https://github.com/ljharb/ls-engines/commit/7c5542856c6d714e0e694126ad168b04cb568b5f)

## [v0.3.5](https://github.com/ljharb/ls-engines/compare/v0.3.4...v0.3.5) - 2020-09-30

### Commits

- [Deps] update `@npmcli/arborist`, `pacote`, `table`, `yargs` [`e505157`](https://github.com/ljharb/ls-engines/commit/e505157704619a997c47584845bd8496d743def9)
- [Dev Deps] update `eslint`, `@ljharb/eslint-config`, `auto-changelog` [`4a6a702`](https://github.com/ljharb/ls-engines/commit/4a6a702f7499a88c3c5dd419231b5aa4cb6925e9)

## [v0.3.4](https://github.com/ljharb/ls-engines/compare/v0.3.3...v0.3.4) - 2020-07-13

### Fixed

- [Fix] `getNodeVersions`: use HTTPS instead of HTTP [`#21`](https://github.com/ljharb/ls-engines/issues/21)

### Commits

- [Tests] update fixtures to include latest node versions [`dc162ce`](https://github.com/ljharb/ls-engines/commit/dc162ce98771b842eac6b981eed77e365b9a633a)
- [Dev Deps] update `eslint`, `@ljharb/eslint-config`, `aud`, `auto-changelog`, `tape` [`7e63120`](https://github.com/ljharb/ls-engines/commit/7e631202961b74999e1861cbc9860d1f411dd6a8)
- [Deps] update `@npmcli/arborist`, `chalk`, `pacote`, `semver`, `yargs` [`a9edf0d`](https://github.com/ljharb/ls-engines/commit/a9edf0df2f64bff883034f303fe4cc816633ab05)
- [Dev Deps] update `eslint`, `@ljharb/eslint-config`, `auto-changelog`, `tape`; add `aud` [`9566ee8`](https://github.com/ljharb/ls-engines/commit/9566ee802af7103f572466966c093331452a2b40)
- [Deps] update `arborist`, `chalk`, `yargs` [`8776b51`](https://github.com/ljharb/ls-engines/commit/8776b51b7aaf432cbc63f482fd5f7d22dd50ef25)
- [Deps] update `@npmcli/arborist`, `pacote`, `semver` [`fb24d15`](https://github.com/ljharb/ls-engines/commit/fb24d15d9ab2655b32628e33e18b4e0030390f87)
- [Deps] update `@npmcli/arborist`, `yargs` [`b614e56`](https://github.com/ljharb/ls-engines/commit/b614e56007694b3f2e5abb179db364af216737c6)
- [Dev Deps] update `auto-changelog`, `tape` [`4a33650`](https://github.com/ljharb/ls-engines/commit/4a33650cc7861de134c082bbac05f9362e88bf0c)
- [meta] only run `aud` on prod deps [`27ff448`](https://github.com/ljharb/ls-engines/commit/27ff448c6c593569d6220bb7f4a584f5f59d82ae)

## [v0.3.3](https://github.com/ljharb/ls-engines/compare/v0.3.2...v0.3.3) - 2020-02-25

### Commits

- [New] improve “current node version” output [`3514176`](https://github.com/ljharb/ls-engines/commit/3514176b29635c0a57c0ffc4e7d6e0117e820c05)
- [Tests] update snapshots without explicitly listing node version numbers, so new node releases do not fail tests [`3ef994e`](https://github.com/ljharb/ls-engines/commit/3ef994ef101adb49829a1a8966513a3105a37948)
- [Fix] fix message; “engines" is not actually set to "*" [`66a93bc`](https://github.com/ljharb/ls-engines/commit/66a93bc4c10e4a380fc256aa09ad64b86263f43f)
- [Fix] `virtual`: when getting the pacote manifest, include the version string [`5a85b9b`](https://github.com/ljharb/ls-engines/commit/5a85b9b5ef639fda8cad101c6fbb969aceb2fc3d)
- [Tests] further reduce DOS-y behavior by serializing tests [`2a0b456`](https://github.com/ljharb/ls-engines/commit/2a0b456d3c7960f20e974fd373cfc46dcc8baffb)
- [Refactor] make `getLatestMajors` [`b64b6e2`](https://github.com/ljharb/ls-engines/commit/b64b6e2d1aa4a9dc34ba63190e1fc6a7d3c02058)
- [Refactor] move `prune` logic into `getTree` [`b9bc293`](https://github.com/ljharb/ls-engines/commit/b9bc293add1809772cfb8429babe0c368158f35e)
- [Refactor] improve “subset” logic; surface errors better [`e0b586d`](https://github.com/ljharb/ls-engines/commit/e0b586d42d06893704dc2efa38e9324608c2ea9e)
- [Tests] exit codes can be bitwise-ORed together [`c89e341`](https://github.com/ljharb/ls-engines/commit/c89e341e02505aabfb44d52d857aec2773f006bf)
- [Refactor] reveal errors more clearly in the final output rejecteds step [`caae8dd`](https://github.com/ljharb/ls-engines/commit/caae8dd4cd12f450c3e4e56c8c3138f30d2d189f)
- [Tests] make tests less DOS-y with hitting the npm servers; skip `fund` and `audit` npm install steps [`a1781a2`](https://github.com/ljharb/ls-engines/commit/a1781a2794d5908b6c33ec56eef74946bc091e4d)
- [Refactor] make `allVersions` construct, by engine [`60ae032`](https://github.com/ljharb/ls-engines/commit/60ae0328cbf396084ad8de092e4a53d3c61fd270)
- [Tests] lint bin files too [`c4ab430`](https://github.com/ljharb/ls-engines/commit/c4ab4307f106a0aad567afeb623caf48e385de7d)
- [Deps] update arborist, `pacote` [`218d07a`](https://github.com/ljharb/ls-engines/commit/218d07a5b35e2f459041586fb1a822ae16c3b2cf)
- [Tests] filter with `FIXTURE` env var [`c08358f`](https://github.com/ljharb/ls-engines/commit/c08358f40cd704085881a4e0f57620d641b9ea5a)
- [Deps] update arborist, `pacote` [`e846b2d`](https://github.com/ljharb/ls-engines/commit/e846b2d84f35ab17a9a8421af92d52ebcb70a1a9)
- [Deps] update `semver` [`e3cf5ff`](https://github.com/ljharb/ls-engines/commit/e3cf5ff61069e5ed074e19cb7057ebe17476af57)
- [Deps] update `@npmcli/arborist` to latest [`16ca3d5`](https://github.com/ljharb/ls-engines/commit/16ca3d52163b2f4562611619e7af1ff7c033e07e)

## [v0.3.2](https://github.com/ljharb/ls-engines/compare/v0.3.1...v0.3.2) - 2020-02-08

### Commits

- [Tests] add more tests, more fixtures; run in explicit `--dev` and `--production` mode also. [`5687f44`](https://github.com/ljharb/ls-engines/commit/5687f44e82ae301c1281968015bb92092eba19f7)
- Tests [`f969506`](https://github.com/ljharb/ls-engines/commit/f9695066d6e56523ee7888c8b94dd31dfe82415f)
- [Tests] update snapshots with latest node releases [`fdd6b3e`](https://github.com/ljharb/ls-engines/commit/fdd6b3e06780a6e276a0f6d1c70b99b3fda049fa)
- [Fix] "virtual" only works properly with lockfileVersion &gt;= 2 [`7b432ce`](https://github.com/ljharb/ls-engines/commit/7b432ce9c908b0612e5b90052fb3c8d2daac5f0c)
- [Refactor] avoid using `fs.promises` [`ae1095c`](https://github.com/ljharb/ls-engines/commit/ae1095c8497b68a445ea95c7b1bfb259aea9cac8)
- [Deps] update to the latest version of `@npmcli/arborist`, `pacote` [`a9e095f`](https://github.com/ljharb/ls-engines/commit/a9e095fcf8ffa95db330f533cd237fd4f0aa4c07)

## [v0.3.1](https://github.com/ljharb/ls-engines/compare/v0.3.0...v0.3.1) - 2020-02-01

### Fixed

- [Fix] actually read package‘s `engines` field [`#4`](https://github.com/ljharb/ls-engines/issues/4)

### Commits

- [Refactor] clean up eslint warnings [`7e551d0`](https://github.com/ljharb/ls-engines/commit/7e551d0157c553021bc0f08e03d4b2a0141da649)
- [readme] fix Travis CI badge [`243faab`](https://github.com/ljharb/ls-engines/commit/243faabc84f05a659fe0623c95a44fffa4e04f05)
- [Deps] update `semver` [`ebf72bf`](https://github.com/ljharb/ls-engines/commit/ebf72bfb350eecc4cb6d8c02c8db73c656ee5196)

## [v0.3.0](https://github.com/ljharb/ls-engines/compare/v0.2.1...v0.3.0) - 2020-01-31

### Commits

- [Breaking] ignore dev deps by default; add `--dev` and `--production` [`19d6843`](https://github.com/ljharb/ls-engines/commit/19d6843270c39cbac840776710b150ba39bdd3f4)

## [v0.2.1](https://github.com/ljharb/ls-engines/compare/v0.2.0...v0.2.1) - 2020-01-31

### Commits

- [Fix] get all latest majors when engines is “*” [`8e8fe5b`](https://github.com/ljharb/ls-engines/commit/8e8fe5b3dff9bee7910a496244a6e2e006d6307b)
- [Fix] add case where what the graph allows is a subset of what the root allows [`aecfb5c`](https://github.com/ljharb/ls-engines/commit/aecfb5ca12984e651980921ac90e88e682e84cf9)
- [Refactor] extract exit code constants [`712f3fc`](https://github.com/ljharb/ls-engines/commit/712f3fcf4c787b6b483c8b899475971ac90adc7b)
- [Fix] in “virtual” mode, arborist does not return the actual `package.json` data [`90d4d62`](https://github.com/ljharb/ls-engines/commit/90d4d62711e2870ce9e0576a7f206d8b1318fbc5)
- [Refactor] stylize `package.json` and `node_modules` consistently [`78a87dc`](https://github.com/ljharb/ls-engines/commit/78a87dc80161a571de0904e4e48400abf17013bf)

## [v0.2.0](https://github.com/ljharb/ls-engines/compare/v0.1.0...v0.2.0) - 2020-01-30

### Fixed

- [Breaking] validate root “engines” against graphs’ [`#2`](https://github.com/ljharb/ls-engines/issues/2)

### Commits

- [Refactor] modularize some things [`4e5f311`](https://github.com/ljharb/ls-engines/commit/4e5f311c243cfd383de70652883a918e813ba028)
- [New] add `--save` option, to persist ”engines” changes to package.json [`467e280`](https://github.com/ljharb/ls-engines/commit/467e280585d7493a4765be8273b97e783f06e216)
- Update README.md [`16f74f6`](https://github.com/ljharb/ls-engines/commit/16f74f6e26d86279a6291b416ba85912c728f1df)

## v0.1.0 - 2020-01-30

### Commits

- Initial implementation [`d4f1c2c`](https://github.com/ljharb/ls-engines/commit/d4f1c2c7aeabeeba1440fe3991779eb1b0e40726)
- Initial commit [`a24666b`](https://github.com/ljharb/ls-engines/commit/a24666b49218f2c006d4b8a848eacff9e352987d)
- readme [`f95187a`](https://github.com/ljharb/ls-engines/commit/f95187a57da93b7d26b2909143631aef662c1b9a)
- npm init [`6f2e352`](https://github.com/ljharb/ls-engines/commit/6f2e35299fa17fc6f7d8cd91d48994995be82208)
- [Tests] add `npm run lint` [`962ee39`](https://github.com/ljharb/ls-engines/commit/962ee39f147ee84ab0f5595bda7e2bb1c7e47f82)
- [meta] add `auto-changelog` [`32bdf23`](https://github.com/ljharb/ls-engines/commit/32bdf23847ed05b69a2fe3dbfd298500fbf2e662)
- [actions] add automatic rebasing / merge commit blocking [`80fb2d9`](https://github.com/ljharb/ls-engines/commit/80fb2d93bbb363966dee79463081ad6f2cdd9889)
- [Tests] use shared travis-ci configs [`626c7f4`](https://github.com/ljharb/ls-engines/commit/626c7f4096e79f211b8052a682d56ca4684c4408)
- Only apps should have lockfiles [`45fcb85`](https://github.com/ljharb/ls-engines/commit/45fcb85189a3e216615889e0ccc9249c5aa8fcfc)
